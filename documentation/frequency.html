<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Documentation</title>
    <link rel="stylesheet" type="text/css" href="style.css"></link>
  </head>
  <body>
    <div class="right">
      <img width="104" src="basex.svg"></img>
    </div>
    <h2>Library Module: frequency.xqm</h2>
    <table>
      <tr>
        <td>
          <b>URI:</b>
        </td>
        <td>
          <code>http://bdn-edition.de/xquery/freq</code>
        </td>
      </tr>
      <tr>
        <td>
          <b>Description:</b>
        </td>
        <td>Zählt die absoluten und relativen Häufigkeiten der Bibelstellen mit Verwendung des Zwischenformats, 
Kapitelbezeichnungen müssen jedoch aus der unkonvertierten Gesamtdatei gewonnen werden und erstellt eine html-Tabelle 

für Griesbach, Steinbart, Sack "chapter", für Teller "letter", für Leß "section", für Nösselt "part"</td>
      </tr>
      <tr>
        <td>
          <b>Version:</b>
        </td>
        <td>1.2 (2021-05-19)</td>
      </tr>
      <tr>
        <td>
          <b>Author:</b>
        </td>
        <td>Hannah Kreß</td>
      </tr>
    </table>
    <h2>Functions</h2>
    <a name="bible-book-stats#3">
      <h3>bible-book-stats($book, $chapter, $doc)</h3>
    </a>
    <table>
      <tr>
        <td>
          <b>Arguments:</b>
        </td>
        <td>
          <table>
            <tr>
              <td>
                <code>$book</code>
              </td>
              <td>
                <code>item()*</code>
              </td>
              <td></td>
            </tr>
            <tr>
              <td>
                <code>$chapter</code>
              </td>
              <td>
                <code>item()*</code>
              </td>
              <td></td>
            </tr>
            <tr>
              <td>
                <code>$doc</code>
              </td>
              <td>
                <code>item()*</code>
              </td>
              <td></td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td>
          <b>Returns:</b>
        </td>
        <td>
          <table>
            <tr>
              <td>
                <code>item()*</code>
              </td>
              <td></td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td>
          <b>Description:</b>
        </td>
        <td>Counts Bible-references in XML-Document with "book" and "chapter".</td>
      </tr>
      <tr>
        <td>
          <b>Version:</b>
        </td>
        <td>0.1 (2021-02-22)</td>
      </tr>
      <tr>
        <td>
          <b>Author:</b>
        </td>
        <td>Marco Stallmann</td>
      </tr>
    </table>
    <a name="count#1">
      <h3>count($converted)</h3>
    </a>
    <table>
      <tr>
        <td>
          <b>Arguments:</b>
        </td>
        <td>
          <table>
            <tr>
              <td>
                <code>$converted</code>
              </td>
              <td>
                <code>node()</code>
              </td>
              <td></td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td>
          <b>Returns:</b>
        </td>
        <td>
          <table>
            <tr>
              <td>
                <code>item()*</code>
              </td>
              <td></td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td>
          <b>Description:</b>
        </td>
        <td>Counts the number of bible references per chapter and returns a map. 

To do: JSON Output, XQuery-Application in JavaScript (e.g. XQIB)</td>
      </tr>
      <tr>
        <td>
          <b>Version:</b>
        </td>
        <td>0.3 (2021-02-03)</td>
      </tr>
      <tr>
        <td>
          <b>Author:</b>
        </td>
        <td>Marco Stallmann</td>
      </tr>
    </table>
    <a name="count_spec#2">
      <h3>count_spec($doc, $book)</h3>
    </a>
    <table>
      <tr>
        <td>
          <b>Arguments:</b>
        </td>
        <td>
          <table>
            <tr>
              <td>
                <code>$doc</code>
              </td>
              <td>
                <code>item()*</code>
              </td>
              <td></td>
            </tr>
            <tr>
              <td>
                <code>$book</code>
              </td>
              <td>
                <code>item()*</code>
              </td>
              <td></td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td>
          <b>Returns:</b>
        </td>
        <td>
          <table>
            <tr>
              <td>
                <code>item()*</code>
              </td>
              <td></td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td>
          <b>Description:</b>
        </td>
        <td>Erstellt eine map, die als keys, die Kapitelüberschriften, die absoluten Häufigkeiten aller Bibelstellen eines Kapitels 
und die absoluten Häufigkeiten der Bibelstellen eines bestimmten Buchs innerhalb eines Kapitels enthält

ToDo: gewünschte Visualisierung</td>
      </tr>
      <tr>
        <td>
          <b>Version:</b>
        </td>
        <td>1.1 (2021-04-21)</td>
      </tr>
      <tr>
        <td>
          <b>Author:</b>
        </td>
        <td>Hannah Kreß</td>
      </tr>
    </table>
    <a name="table2#1">
      <h3>table2($doc)</h3>
    </a>
    <table>
      <tr>
        <td>
          <b>Arguments:</b>
        </td>
        <td>
          <table>
            <tr>
              <td>
                <code>$doc</code>
              </td>
              <td>
                <code>item()</code>
              </td>
              <td></td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td>
          <b>Returns:</b>
        </td>
        <td>
          <table>
            <tr>
              <td>
                <code>item()*</code>
              </td>
              <td></td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td>
          <b>Description:</b>
        </td>
        <td>Erstellt eine HTML-Tabelle auf Basis des konvertierten XML-Dokuments: 
Für jedes biblische Buch, das in der edierten Quellenschrift vorkommt, wird 
die Häufigkeit der Bibelreferenz ausgegeben.

Dies ist ein anderer Ansatz als der "Bibelstellenspannungsbogen"
(s. unten freq:table), wo die Häufigkeiten ausgehend von den einzelnen Kapiteln
der edierten Quellenschrift ermittelt werden.

Überlegung (Hannah): Kombination mit "Spannungsbogen" als weitere Funktion

Todo: 
- Ergebnis in Datei schreiben (mit file:write ??)
- Übersichtlichkeit verbessern</td>
      </tr>
      <tr>
        <td>
          <b>Version:</b>
        </td>
        <td>0.1 (2021-02-22)</td>
      </tr>
      <tr>
        <td>
          <b>Author:</b>
        </td>
        <td>..., Marco Stallmann</td>
      </tr>
    </table>
    <a name="table_all#2">
      <h3>table_all($doc, $bible)</h3>
    </a>
    <table>
      <tr>
        <td>
          <b>Arguments:</b>
        </td>
        <td>
          <table>
            <tr>
              <td>
                <code>$doc</code>
              </td>
              <td>
                <code>item()*</code>
              </td>
              <td></td>
            </tr>
            <tr>
              <td>
                <code>$bible</code>
              </td>
              <td>
                <code>item()*</code>
              </td>
              <td></td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td>
          <b>Returns:</b>
        </td>
        <td>
          <table>
            <tr>
              <td>
                <code>element()</code>
              </td>
              <td></td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td>
          <b>Description:</b>
        </td>
        <td>Zählt die absoluten und relativen Häufigkeiten der Bibelstellen mit Verwendung des Zwischenformats, 
Kapitelbezeichnungen müssen jedoch aus der unkonvertierten Gesamtdatei gewonnen werden und erstellt eine html-Tabelle 

für Griesbach, Steinbart, Sack "chapter", für Teller "letter", für Leß "section", für Nösselt "part"</td>
      </tr>
      <tr>
        <td>
          <b>Version:</b>
        </td>
        <td>1.2 (2021-05-19)</td>
      </tr>
      <tr>
        <td>
          <b>Author:</b>
        </td>
        <td>Hannah Kreß</td>
      </tr>
    </table>
    <a name="table_spec#3">
      <h3>table_spec($doc, $bible, $book)</h3>
    </a>
    <table>
      <tr>
        <td>
          <b>Arguments:</b>
        </td>
        <td>
          <table>
            <tr>
              <td>
                <code>$doc</code>
              </td>
              <td>
                <code>item()*</code>
              </td>
              <td></td>
            </tr>
            <tr>
              <td>
                <code>$bible</code>
              </td>
              <td>
                <code>item()*</code>
              </td>
              <td></td>
            </tr>
            <tr>
              <td>
                <code>$book</code>
              </td>
              <td>
                <code>item()*</code>
              </td>
              <td></td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td>
          <b>Returns:</b>
        </td>
        <td>
          <table>
            <tr>
              <td>
                <code>element()</code>
              </td>
              <td></td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td>
          <b>Description:</b>
        </td>
        <td>Zählt die absoluten und relativen (in Relation zu der Gesamtanzahl aller Bibelstellen in einem Kapitel) Häufigkeiten 
eines bestimmten Bibelbuchs und erstellt eine html-Tabelle 

für Griesbach, Steinbart, Sack "chapter", für Teller "letter", für Leß "section", für Nösselt "part"</td>
      </tr>
      <tr>
        <td>
          <b>Version:</b>
        </td>
        <td>1.2 (2021-05-19)</td>
      </tr>
      <tr>
        <td>
          <b>Author:</b>
        </td>
        <td>Hannah Kreß</td>
      </tr>
    </table>
    <a name="test-book#2">
      <h3>test-book($book, $doc)</h3>
    </a>
    <table>
      <tr>
        <td>
          <b>Arguments:</b>
        </td>
        <td>
          <table>
            <tr>
              <td>
                <code>$book</code>
              </td>
              <td>
                <code>item()*</code>
              </td>
              <td></td>
            </tr>
            <tr>
              <td>
                <code>$doc</code>
              </td>
              <td>
                <code>item()*</code>
              </td>
              <td></td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td>
          <b>Returns:</b>
        </td>
        <td>
          <table>
            <tr>
              <td>
                <code>item()*</code>
              </td>
              <td></td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td>
          <b>Description:</b>
        </td>
        <td>Tests if (converted!) XML-Document has Bible-references with "book"</td>
      </tr>
      <tr>
        <td>
          <b>Version:</b>
        </td>
        <td>0.1 (2021-02-22)</td>
      </tr>
      <tr>
        <td>
          <b>Author:</b>
        </td>
        <td>Marco Stallmann</td>
      </tr>
    </table>
    <a name="word-count#1">
      <h3>word-count($arg)</h3>
    </a>
    <table>
      <tr>
        <td>
          <b>Arguments:</b>
        </td>
        <td>
          <table>
            <tr>
              <td>
                <code>$arg</code>
              </td>
              <td>
                <code>xs:string?</code>
              </td>
              <td></td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td>
          <b>Returns:</b>
        </td>
        <td>
          <table>
            <tr>
              <td>
                <code>xs:integer</code>
              </td>
              <td></td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </body>
</html>